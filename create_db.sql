CREATE TABLE games (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	is_public BOOLEAN NOT NULL DEFAULT TRUE,
	shorthand TEXT NOT NULL UNIQUE,
	pishtov_version TEXT NOT NULL,
	uploader_ip TEXT NOT NULL,
	upload_date TIMESTAMP NOT NULL
);

CREATE TABLE files (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	game_id INTEGER NOT NULL,
	content TEXT NOT NULL,
	is_obfuscated BOOLEAN NOT NULL DEFAULT FALSE,
	FOREIGN KEY (game_id) REFERENCES games (id)
);
